<!-- extend base layout -->
{% extends "base.htm" %}

{% block head %}
<title>Results</title>
{% endblock %}


{% block body %}

<div class="page-header">
  <h1>Wyniki badań</h1>
</div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(draw_age_pie);
  google.charts.setOnLoadCallback(draw_home_pie);
  google.charts.setOnLoadCallback(draw_gender_pie);
  function draw_age_pie() {
     var data = new google.visualization.DataTable();
     data.addColumn('string', 'Wiek');
     data.addColumn('number', 'Liczba osob');
     data.addRows( {{ ages|tojson }} );

     var options = {
          title: 'Wiek',
          pieHole: 0.4,
          width: 400,
          height: 300
        };

      var chart = new google.visualization.PieChart(document.getElementById('age_donut'));
      chart.draw(data, options);
    }

  function draw_home_pie() {
     var data = new google.visualization.DataTable();
     data.addColumn('string', 'Zamieszkanie');
     data.addColumn('number', 'Liczba osob');
     data.addRows( {{ homes|tojson }} );

     var options = {
          title: 'Zamieszkanie',
          pieHole: 0.4,
          width: 400,
          height: 300
        };

      var chart = new google.visualization.PieChart(document.getElementById('home_donut'));
      chart.draw(data, options);
    }

  function draw_gender_pie() {
     var data = new google.visualization.DataTable();
     data.addColumn('string', 'Płeć');
     data.addColumn('number', 'Liczba osob');
     data.addRows( {{ genders|tojson }} );

     var options = {
          title: 'Płec',
          pieHole: 0.4,
          width: 400,
          height: 300
        };

      var chart = new google.visualization.PieChart(document.getElementById('gender_donut'));
      chart.draw(data, options);
    }
</script>

<div class="container-fluid">
  <div class="row">
    <div class="col" id="age_donut"></div>
    <div class="col" id="home_donut">col</div>
    <div class="col" id="gender_donut">col</div>
  </div>
</div>
{% endblock %}